<div class="container-fluid">
    <div class="container" *ngIf="objErrors.status == 401">
        <p-message severity="error" text="Unauthorized. A login is required." styleClass="p-mr-2"></p-message>
    </div>
    <div class="container" *ngIf="objErrors.status == 404">
        <p-message severity="error" text="The requested endpoint was not found." styleClass="p-mr-2"></p-message>
    </div>    
    <div class="flex justify-content-between flex-wrap card-container purple-container">
        <div class="flex align-items-center justify-content-center h-4rem m-2">
            <label for="partner">Choose a Partner</label>&nbsp;
            <p-dropdown 
                [options]="partners" 
                optionLabel="name"
                (onChange)="getPartnerProducts($event)"
                [(ngModel)]="selectedPartner"
                >
            </p-dropdown>
        </div>
        <div class="flex align-items-center justify-content-center m-2">
            <button [disabled]="!partnerId" pButton type="button" label="Create Product" class="p-button p-button-info" (click)="editProduct(0)"></button>
        </div>
    </div>

    <div class="row">
        <hr>
    </div>

    <div class="row">
        <p-table [value]="products"
            [rowHover]="true"
            [rows]="10"
            [rowsPerPageOptions]="[5,10,30]"
            [paginator]="true"
            [loading]="loading"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Features</th>
                    <th>Revenue</th>
                    <th>Start</th>
                    <th>End</th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td>{{ product.type }}</td>
                    <td>{{ product.description }}</td>
                    <td>{{ product.features }}</td>
                    <td>{{ product.revenue }}</td>
                    <td>{{ product.start }}</td>
                    <td>{{ product.end }}</td>
                    <td>
                        <!-- <ng-template pTemplate="header"> -->
                            <div class="grid">
                                <div class="col-6">
                                    <a (click)="viewProduct(product.id)" title="View Product"><i class="pi pi-eye pointer"></i></a>
                                </div>
                                <div class="col-6">
                                    <a (click)="editProduct(product.id)" title="Edit Product"><i class="pi pi-user-edit pointer"></i></a>
                                </div>
                            </div>
                        <!-- </ng-template> -->
                    </td>
                </tr>
            </ng-template>

        </p-table>
    </div>
</div>
