<div class="alert alert-primary" role="alert">
  <h4>Product selection summary</h4>
</div>
<ul class="list-group list-group-flush my-3">
  <li class="list-group-item">
    <div class="d-flex text-orangered justify-content-between">
      <h4 class="text-danger">
        <fa-icon [icon]="faBars"></fa-icon>
        <i class="fa fa-bars"></i>
        Monthly:
      </h4>
      <h4 class="text-danger">
        {{ getMonthlyTotalPrice() | currency }}
      </h4>
    </div>
  </li>
  <li class="list-group-item" *ngFor="let offer of offers">
    <div class="d-flex text-orangered justify-content-between">
      <p>
        <fa-icon
          class="text-danger me-2"
          [icon]="getIcon(offer.serviceType)"
        ></fa-icon>
        {{ offer.name }}
      </p>
      <strong>{{ offer.bestPriceTerm.discountedPrice | currency }}</strong>
    </div>
    <ul class="list-group list-group-flush">
      <li
        style="padding: 0.5rem 0rem"
        class="list-group-item"
        *ngFor="let discount of offer.bestPriceTerm.discount"
      >
        <div class="row" *ngIf="discount.durationInMonths">
          <div class="col-md-10">
            <p>
              <fa-icon class="text-danger me-2" [icon]="faMinus"></fa-icon>
              Applied discount for {{ discount.durationInMonths }} months
            </p>
          </div>
          <div class="col-md-2 d-flex justify-content-end">
            <strong>{{ discount.amount | currency }}</strong>
          </div>
        </div>
      </li>
    </ul>
  </li>
</ul>

<div class="alert alert-primary" role="alert">
  <h5>Offer Details</h5>
  <strong>Review with customer</strong>
</div>
<div class="mt-3 mx-2" *ngFor="let offer of offers">
  <h5 class="text-danger">{{ offer.name }}</h5>
  <div class="card">
    <div class="card-body">
      <small>{{ offer.description }}</small>
    </div>
  </div>
</div>
<div class="d-flex justify-content-between">
  <div class="d-flex justify-content-start mt-3">
    <button class="btn btn-danger" (click)="goBack.emit()">
      <fa-icon [icon]="faArrowLeft"></fa-icon> Go Back
    </button>
  </div>
  <div class="d-flex justify-content-end mt-3">
    <button class="btn btn-danger" (click)="submitOffers.emit()">
      Submit Offers <fa-icon class="ms-2" [icon]="faArrowRight"></fa-icon>
    </button>
  </div>
</div>
