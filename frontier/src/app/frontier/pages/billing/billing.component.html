<app-error-message [error]="error"></app-error-message>
<div *ngIf="loading" class="d-flex justify-content-center">
  <div
    class="spinner-border text-primary"
    role="status"
    style="width: 4rem; height: 4rem"
  >
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<div *ngIf="!loading">
  <ngb-accordion #accordion="ngbAccordion" activeIds="ngb-panel-0">
    <ngb-panel
      id="payment-panel"
      title="Payment"
      [disabled]="isPaymentComplete()"
    >
      <ng-template ngbPanelContent>
        <app-payment
          (CorrelationId)="(CorrelationId)"
          (customer)="(customer)"
          (onSuccessDepositEvent)="onSuccessDeposit($event)"
          [depositRequirements]="depositRequirements"
        ></app-payment>
      </ng-template>
    </ngb-panel>
    <ngb-panel title="Schedule">
      <ng-template ngbPanelContent>
        <app-schedule
          (onSuccessScheduleEvent)="onSuccessScheduleEvent($event)"
        ></app-schedule>
      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</div>
