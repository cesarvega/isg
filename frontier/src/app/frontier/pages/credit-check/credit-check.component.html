<div class="alert alert-info" role="alert" *ngIf="!loading">
  <h4 class="alert-heading">
    <fa-icon class="mr-2" [icon]="faComment"></fa-icon> Mandatory verbatim
    disclosure:*
  </h4>
  <hr />
  <p>
    To continue, I may need to use your existing credit information on file with
    other AT&T Companies. Is that ok?
  </p>
  <div class="form-check">
    <input
      class="form-check-input"
      type="checkbox"
      (change)="showForm = true"
      [checked]="showForm"
      id="flexCheckDefault"
    />
    <label class="form-check-label" for="flexCheckDefault">
      Yes, Credit Check authorization granted
    </label>
  </div>
  <div class="form-check">
    <input
      class="form-check-input"
      type="checkbox"
      [checked]="showForm === false"
      (change)="showForm = false"
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> No </label>
  </div>
</div>
<ngb-accordion
  *ngIf="showForm"
  #accordion="ngbAccordion"
  destroyOnHide="false"
  activeIds="create-account-panel"
>
  <ngb-panel id="{{ disclosure.name }}">
    <ng-template ngbPanelHeader>
      <div class="d-flex align-items-center justify-content-between">
        <h4 class="mx-2 text-secondary">Create your account</h4>
        <div>
          <button
            [disabled]="loading"
            *ngIf="accountFormValues"
            ngbPanelToggle
            class="btn btn-sm btn-outline-primary ml-2"
          >
            Edit
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <app-account
        [accountFormValues]="accountFormValues"
        (submitAccountForm)="submitAccountForm($event)"
      ></app-account>
    </ng-template>
  </ngb-panel>
  <ngb-panel id="verify-identity-panel">
    <ng-template ngbPanelHeader>
      <div class="d-flex align-items-center justify-content-between">
        <h4 class="mx-2 text-secondary">Verify your identity</h4>
        <div>
          <button
            [disabled]="loading"
            *ngIf="identityFormValues"
            ngbPanelToggle
            class="btn btn-sm btn-outline-primary ml-2"
          >
            Edit
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <app-error-message [error]="error"></app-error-message>
      <app-identity
        [loading]="loading"
        [identityFormValues]="identityFormValues"
        (submitIdentityForm)="submitIdentityForm($event)"
      ></app-identity>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
<div class="row mt-3" *ngIf="!loading">
  <div class="col-md-4">
    <label>Select a Test Case</label>
    <select
      aria-label="Default select example"
      class="form-select mt-2"
      [(ngModel)]="selectedTestCase"
      (change)="onSelectTestCase()"
    >
      <option>Select a Test Case</option>
      <option
        [value]="testCase.alias"
        *ngFor="let testCase of creditCheckTestCases"
      >
        {{ testCase.alias }}
      </option>
    </select>
  </div>
</div>
